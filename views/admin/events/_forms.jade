mixin form_area_select(current_place)
	select.area(name='place[area]')
		each area in areas
			option(value=area._id.toString(), selected=current_place && (area._id.toString() == current_place.area))= area.i18n.title.get('ru')
	!=' // '
	each area in areas
		span.hall
			each hall in area.halls
				input(type='checkbox', name='place[halls][]' value=hall._id.toString(), disabled=true, checked=current_place && current_place.halls.some(function(c_hall) { return c_hall == hall._id.toString() }))
				!= hall.i18n.title.get('ru')


mixin form_alt_tickets(path, object)
	input.ru(type="text", name="ru[" + path + "]", value=object && object['tickets']['i18n'][path].get('ru'))
	input.en(type="text", name="en[" + path + "]", disabled, value=object && object['tickets']['i18n'][path].get('en'))


mixin form_members_select(event_members)
	include ../../vars.jade
	- function get_locale(option, lang) {var locale = option.filter(function(locale) { return locale.lg == lang })[0]; if (locale) {return locale.value } else {return ''} }
	if (event_members && event_members.length > 0)
		.members_roles.sortable
			each event_role in event_members
				.role(class=event_role.role)= members_roles[event_role.role]['ru']
					each member in event_role.ids
						.member
							input.rm_member(type='button', value='-')
							!= get_locale(member.name, 'ru')
							input(type='hidden', value=member._id, name='members[' + event_role.role +']')
			each title, tag in members_roles
				unless event_members.some(function(event_role) { return event_role.role == tag })
					.role(class=tag)
	else
		.members_roles.sortable
			each title, tag in members_roles
				.role(class=tag)= title.ru
	input.add_member(type='button', value='Добавить')
	.members_select.hidden
		input.members_search(type='text', placeholder='поиск...')
		select.role_select
			each title, tag in members_roles
				option(value=tag)= title.ru
		.members_list